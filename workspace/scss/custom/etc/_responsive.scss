@mixin touch-alike {

    box-shadow: 0 0 8px var(--light3);
    background-color: var(--light1);
    border-radius: 50%;

}

@mixin responsive-transform {
    &.fixed-left.slide { transform: translateX(-100%); }
    &.fixed-right.slide { transform: translateX(100%); }
    &.left.slide { transform: translateX(-100%); }
    &.right.slide { transform: translateX(100%); }
    &.h-flip { transform: translateX(150%) perspective(50vw) rotateY(-90deg)    }
}



.res-ctl {

    &:hover {
        text-shadow: 0 0 3px #000;
        box-shadow: none;
        border:none;
    }

	display: none;
	background: transparent;
	border: none;
	outline: none;
	color: var(--t);
	font-size: calc(var(--ctl-height) / 2);
    width: var(--ctl-width);
    height: 100%;

	.desktop & {
		display: initial;
	}

	@include breakpoint(mobile-only) {
		display: initial;
	}
}

.desktop {
	.responsive-block {
        visibility: hidden;
        opacity: 0;
	}

	&.responsive-dock {
		.responsive-block {
			position: absolute;
			left:0;
			width:100%;
			top: var(--dock-y,3rem);
		}
	}
}

@include breakpoint(mobile-only) {

	.responsive-dock {
		.responsive-block {
			position: absolute;
			left:0;
			width:100%;
			top: var(--dock-y,3rem);
		}
	}	
}

.responsive-block {

    transition: all .5s ease;
    z-index: 999;


	@include breakpoint(mobile-only) {
        visibility: hidden;
        opacity: 0;
	}

    .res-close { display: none; }

	&.show {
		visibility: visible;
		opacity: 1;
		transform: translate(0) rotate(0);
	}

}


@mixin menucan-responsive {

    height: auto;
    --menu-width: 100%;
    --background: var(--c-d);

    .g-goback { display: none; }

	.toplevel {
		flex-flow:column nowrap !important;
		height: auto !important;
		width: 100% !important;
	}

    li {
	    width: 100% !important;
	    height: auto !important;
        border-top: 1px solid var(--shade1);

        a,.nav-item-content { 
            padding: .5em 1em !important; 
            height: auto !important; 
        }

        .dropdown-menu  {
        	width: 100% !important;
        	position: relative !important;
            a,.nav-item-content {
                padding: .5em 1em .5em 2em !important;
                height: auto;
            }
        }

    }

    li:hover {
        .dropdown-menu  {
            display:none;
        }
    }

    .menu-parent-indicator:hover  {
        @include touch-alike
    }

}

.menucan {

    &.responsive {
        @include menucan-responsive;
    }

    @include breakpoint(mobile-only) {
        @include menucan-responsive;
    }

}
