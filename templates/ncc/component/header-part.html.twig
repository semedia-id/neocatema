{% extends "ncc/component/header.html.twig" %}

{% block head_title %}
    <title>{% if header.title %}{{ header.title }} | {% endif %}{{ site.title }}</title>
{% endblock %}

{% block head_meta %}
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
    {% if gantry.config.page.head.meta -%}
        {% for attributes in gantry.config.page.head.meta -%}
            {%- for key, value in attributes %}
                {% if key starts with 'og:' %}
					<meta property="{{ key|e }}" content="{{ value|e }}" />
                {% else %}
					<meta name="{{ key|e }}" content="{{ value|e }}" />
                {% endif %}
            {% endfor -%}
        {%- endfor -%}
    {%- endif -%}

	{% for meta in page.metadata %}
		<meta 
			{% if meta.name %}name="{{ meta.name }}" {% endif %}
			{% if meta.http_equiv %}http-equiv="{{ meta.http_equiv }}" {% endif %}
			{% if meta.charset %}charset="{{ meta.charset }}" {% endif %}
			{% if meta.property %}property="{{ meta.property }}" {% endif %}
			{% if meta.content %}content="{{ meta.content }}" {% endif %}
			/>
	{% endfor %}

	{% set owner = theme_var('owner')? theme_var('owner'): false %}
	{% if owner%}
		<meta name="owner" content="{{ owner }}" />
	{% endif %}

	{% if header.robots %}
        <meta name="robots" content="{{ header.robots }}">
	{% endif %}

{% endblock %}

{% block head_links %}
    <link rel="canonical" href="{{ page.url(true, true) }}" />
	{% include "ncc/etc/font-preload.html.twig" %}	
	{% if gantry.config.page.assets.favicon %}
        <link rel="icon" type="image/x-icon" href="{{ url(gantry.config.page.assets.favicon) }}" />
    {% endif %}
    {% if gantry.config.page.assets.touchicon %}
        <link rel="apple-touch-icon" sizes="180x180" href="{{ url(gantry.config.page.assets.touchicon) }}">
        <link rel="icon" sizes="192x192" href="{{ url(gantry.config.page.assets.touchicon) }}">
    {% endif %}
{% endblock %}

{% assets with { priority: 11 } %}

	<link rel="stylesheet" href="gantry-assets://css/ncc-icon.css" type="text/css">

	{% if gantry.config.page.fontawesome.enable|default(1) %}
		<link rel="stylesheet" href="gantry-assets://css/font-awesome.min.css" type="text/css">
	{% endif %}
	
    {% if gantry.config.get('styles.option.animate_css') -%}
		<link rel="stylesheet" href="gantry-assets://css/animate.min.css" type="text/css">
    {% endif %}	
{% endassets -%}

{% assets with { priority:10 } %}

	{% block head_stylesheets -%}

		{% for scss in gantry.theme.configuration.css.persistent|default(gantry.theme.configuration.css.files) %}
			<link rel="stylesheet" href="{{ scss }}.scss" type="text/css">
		{%- endfor %}

	{% endblock -%}

	{% block head_overrides -%}
		{% for scss in gantry.theme.configuration.css.overrides %}
			<link rel="stylesheet" href="{{ scss }}.scss" type="text/css"/>
		{%- endfor %}
	{% endblock -%}

{% endassets -%}


{% assets with { priority: 1 } %}
	
    {% if gantry.config.get('styles.option.devinchrome') -%}
		<link rel="stylesheet" href="gantry-assets://workspace/css/custom.css" type="text/css">
    {% endif %}	

{% endassets -%}

{% block head_application %}

    {% do gantry.platform.finalize %}

    {% block assets deferred %}
        {{ assets.css()|raw }}
        {{ assets.js()|raw }}
    {% endblock %}

{%- endblock %}